{
  "openrpc": "1.2.4",
  "info": {
    "title": "TextToSpeech",
    "description": "A module for controlling and accessing Text To Speech over Firebolt.",
    "version": "0.0.0"
  },
  "methods": [
    {
      "name": "speak",
      "summary": "Speak the utterance immediately. Any ongoing speech is interrupted.",
      "description": "Text argument is either plain text or a well-formed SSML document TTS_status, not success attribute, to be used by caller to indicate success of call 0 OK, 1 Fail, 2 not enabled, 3 invalid configuration Raises onSpeechinterrupted if speaking is interrupted",
      "params": [
        {
          "name": "text",
          "summary": "String to be converted to Audio for speech",
          "schema": {
            "type": "string"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "speakResult",
        "summary": "Result for Speak",
        "schema": {
          "$ref": "#/components/schemas/SpeechResponse"
        }
      },
      "examples": [
        {
          "name": "Getting the result of speak",
          "params": [
            {
              "name": "text",
              "value": "I am a text waiting for speech."
            }
          ],
          "result": {
            "name": "result",
            "value": {
              "speechid": 1,
              "TTS_Status": 0,
              "success": true
            }
          }
        }
      ]
    },
    {
      "name": "pause",
      "summary": "Pauses the speech for given speech id",
      "description": "Pauses the utterance. Raises onSpeechpause if ongoing speech is paused. Does nothing if utterance is already paused",
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "pauseResult",
        "summary": "Result for Pause",
        "schema": {
          "$ref": "#/components/schemas/TTSStatusResponse"
        }
      },
      "examples": [
        {
          "name": "Pause a given speech id",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ],
          "result": {
            "name": "TTS_Status",
            "value": {
              "TTS_Status": 0,
              "success": true
            }
          }
        }
      ]
    },
    {
      "name": "resume",
      "summary": "Resumes the speech for given speech id",
      "description": "Continue the paused utterance. Raises onSpeechresume if paused speech is resumed. Does nothing if the utterance is not paused",
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "resumeResult",
        "summary": "Result for Resume",
        "schema": {
          "$ref": "#/components/schemas/TTSStatusResponse"
        }
      },
      "examples": [
        {
          "name": "Resume a given speech id.",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ],
          "result": {
            "name": "TTS_Status",
            "value": {
              "TTS_Status": 0,
              "success": true
            }
          }
        }
      ]
    },
    {
      "name": "cancel",
      "summary": "Cancels the speech for given speech id",
      "description": "Stop speaking if utterance is currently being spoken. Raises onSpeechinterrupted if speaking was interrupted.",
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "cancelResult",
        "summary": "Result for cancel",
        "schema": {
          "$ref": "#/components/schemas/TTSStatusResponse"
        }
      },
      "examples": [
        {
          "name": "Cancel a given speech id.",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ],
          "result": {
            "name": "TTS_Status",
            "value": {
              "TTS_Status": 0,
              "success": true
            }
          }
        }
      ]
    },
    {
      "name": "getspeechstate",
      "summary": "Returns the state of the utterance.",
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "speechStateResult",
        "summary": "Result for speech state",
        "schema": {
          "$ref": "#/components/schemas/SpeechStateResponse"
        }
      },
      "examples": [
        {
          "name": "State for a given speech id.",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ],
          "result": {
            "name": "speechstate",
            "value": {
              "speechstate": 1,
              "TTS_Status": 0,
              "success": true
            }
          }
        }
      ]
    },
    {
      "name": "onWillspeak",
      "summary": "Text to speech conversion is about to start.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onWillspeak"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onSpeechstart",
      "summary": "Utterance is about to be spoken.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onSpeechstart"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onSpeechpause",
      "summary": "Ongoing speech was paused.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onSpeechpause"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onSpeechresume",
      "summary": "Paused speech was resumed.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onSpeechresume"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onSpeechcomplete",
      "summary": "Speech completed successfully.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onSpeechcomplete"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onSpeechinterrupted",
      "summary": "Speech was stopped, due to another call to speak or cancel.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onSpeechinterrupted"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onNetworkerror",
      "summary": "Utterance failed due to network error.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onNetworkerror"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "onPlaybackError",
      "summary": "Utterance failed during playback.",
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "notifier",
          "x-event": "TextToSpeech.onPlaybackError"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "params": [
        {
          "name": "speechid",
          "summary": "Identifier for the speech call",
          "schema": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "required": true
        }
      ],
      "examples": [
        {
          "name": "Default Example",
          "params": [
            {
              "name": "speechid",
              "value": 1
            }
          ]
        }
      ]
    },
    {
      "name": "listvoices",
      "summary": "Returns the list of available voices as human-readable strings, e.g. 'ava', 'amelie', 'angelica'",
      "params": [
        {
          "name": "language",
          "summary": "Language - string - BCP 47",
          "schema": {
            "$ref": "https://meta.comcast.com/firebolt/localization#/definitions/Locale"
          },
          "required": true
        }
      ],
      "tags": [
        {
          "name": "rpc-only"
        },
        {
          "name": "capabilities",
          "x-uses": [
            "xrn:firebolt:capability:text-to-speech:general"
          ]
        }
      ],
      "result": {
        "name": "listvoices",
        "summary": "The list of voices supported for the language",
        "schema": {
          "$ref": "#/components/schemas/ListVoicesResponse"
        }
      },
      "examples": [
        {
          "name": "Getting the list of voices",
          "params": [
            {
              "name": "language",
              "value": "en-US"
            }
          ],
          "result": {
            "name": "voiceList",
            "value": {
              "TTS_Status": 0,
              "voices": [
                "carol",
                "tom"
              ]
            }
          }
        }
      ]
    }
  ],
  "components": {
    "schemas": {
      "TTSEnabled": {
        "title": "TTSEnabled",
        "type": "object",
        "required": [
          "TTS_Status",
          "isenabled"
        ],
        "properties": {
          "TTS_Status": {
            "$ref": "#/components/schemas/TTSStatus"
          },
          "isenabled": {
            "type": "boolean"
          }
        }
      },
      "ListVoicesResponse": {
        "title": "ListVoicesResponse",
        "type": "object",
        "required": [
          "TTS_Status",
          "voices"
        ],
        "properties": {
          "TTS_Status": {
            "$ref": "#/components/schemas/TTSStatus"
          },
          "voices": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "TTSConfiguration": {
        "title": "TTSConfiguration",
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "ttsendpoint": {
            "type": "string",
            "description": "URL for Text to Speech API"
          },
          "ttsendpointsecured": {
            "type": "string",
            "description": "Secure URL for Text to Speech API"
          },
          "language": {
            "type": "string",
            "description": "Language used by Text to speech"
          },
          "voice": {
            "type": "string",
            "description": "Voice used by Text to speech"
          },
          "volume": {
            "type": "integer",
            "description": "Volume for Text to speech",
            "minimum": 0,
            "maximum": 100
          },
          "primvolduckpercent": {
            "type": "integer",
            "description": "Prime Volume duck percent for Text to speech",
            "minimum": 0,
            "maximum": 100
          },
          "rate": {
            "type": "integer",
            "description": "Speech rate for Text to speech",
            "minimum": 0,
            "maximum": 100
          },
          "speechrate": {
            "description": "Rate for speech",
            "$ref": "#/components/schemas/SpeechRate"
          },
          "fallbacktext": {
            "description": "Fallback text for TTS",
            "$ref": "#/components/schemas/FallbackText"
          }
        },
        "examples": [
          {}
        ]
      },
      "SpeechRate": {
        "title": "SpeechRate",
        "type": "string",
        "enum": [
          "slow",
          "medium",
          "fast",
          "faster",
          "fastest"
        ]
      },
      "FallbackText": {
        "title": "FallbackText",
        "type": "object",
        "properties": {
          "scenario": {
            "type": "string",
            "description": "Scenario for fallback Text"
          },
          "value": {
            "type": "string",
            "description": "Value for fallback Text"
          }
        }
      },
      "SpeechResponse": {
        "title": "SpeechResponse",
        "type": "object",
        "properties": {
          "speechid": {
            "$ref": "#/components/schemas/SpeechId"
          },
          "TTS_Status": {
            "$ref": "#/components/schemas/TTSStatus"
          },
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "speechid",
          "TTS_Status",
          "success"
        ]
      },
      "SpeechId": {
        "type": "integer"
      },
      "SpeechIdEvent": {
        "type": "object",
        "properties": {
          "speechid": {
            "$ref": "#/components/schemas/SpeechId"
          }
        },
        "required": [
          "speechid"
        ]
      },
      "TTSStatus": {
        "title": "TTSStatus",
        "type": "integer",
        "minimum": 0,
        "maximum": 3
      },
      "SpeechState": {
        "title": "SpeechState",
        "type": "integer",
        "enum": [
          0,
          1,
          2,
          3
        ],
        "description": "0 = SPEECH_PENDING, 1 = SPEECH_IN_PROGRESS, 2 = SPEECH_PAUSED, 3 = SPEECH_NOT_FOUND"
      },
      "SpeechStateResponse": {
        "title": "SpeechStateResponse",
        "type": "object",
        "properties": {
          "speechstate": {
            "$ref": "#/components/schemas/SpeechState"
          },
          "TTS_Status": {
            "$ref": "#/components/schemas/TTSStatus"
          },
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "speechstate",
          "TTS_Status",
          "success"
        ]
      },
      "TTSStatusResponse": {
        "title": "TTSStatusResponse",
        "type": "object",
        "properties": {
          "TTS_Status": {
            "$ref": "#/components/schemas/TTSStatus"
          },
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "TTS_Status",
          "success"
        ]
      },
      "TTSState": {
        "title": "TTSState",
        "type": "object",
        "properties": {
          "state": {
            "type": "boolean"
          }
        },
        "required": [
          "state"
        ]
      },
      "TTSVoice": {
        "title": "TTSVoice",
        "type": "object",
        "properties": {
          "voice": {
            "type": "string"
          }
        },
        "required": [
          "voice"
        ]
      }
    }
  }
}